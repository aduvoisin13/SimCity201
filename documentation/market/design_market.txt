
									  -Design Document: Market-

-----------------------------------------INTERACTION DIAGRAM-----------------------------------------

Market
	Original OrderStatus	OrderEvent			New OrderStatus				Message							Parameters				[Sender] 	--> [Recipient]				
1.	CARTED					1					PLACED						msgOrderPlacement				Order 					Customer/Cook	Cashier					
2.	PLACED					ORDER_PLACED		PAYING						msgInvoiceToCustomer			Order, Invoice 			Cashier			Customer/Cook		
3.	PAYING					RECEIVED_INVOICE	PAID						msgPayingForOrder				Invoice	 				Customer/Cook	Cashier					
4.	PAID					ORDER_PAID			PAYMENT_RECEIVED			msgHereIsReceiptInvoice			Invoice					Cashier			Customer/Cook				
5.	PAYMENT_RECEIVED		1					ORDERING					msgFulfillOrder					Order					Cashier			Worker			

6a.	ORDERING				TOLD_TO_FULFILL		VALIDATING					msgCustomerOrderReady			Order					Worker			Customer		
7a.	VALIDATING				ORDER_READY			VALIDATED					msgInvoiceValidation			Invoice					Customer		Worker					
8a.	VALIDATED				1					DONE						msgHereIsCustomerOrder			Order					Worker			Customer				

6b.	ORDERING				TOLD_TO_SEND		DELIVERING					msgDeliverOrderToCook			Order					Worker			DeliveryTruck			
7b.	DELIVERING				TOLD_TO_DELIVER		VALIDATING					msgCookOrderReady				Order					DeliveryTruck	Cook					
8b.	VALIDATING				ORDER_READY			VALIDATED					msgInvoiceValidation			Invoice					Cook			DeliveryTruck			
9b.	VALIDATED				1					DONE						msgHereIsCookOrder				Order					DeliveryTruck	Cook					


Item
	static enum EnumItemType = new enum {item possibilities}
	map from item type to price

Order
	static enum EnumOrderStatus {CARTED, PLACED, PAYING, PAID, PAYMENT_RECEIVED, ORDERING, DELIVERING, VALIDATING, VALIDATED, DONE};
	EnumOrderStatus mStatus;
	static enum EnumOrderEvent {ORDER_PLACED, RECEIVED_INVOICE, ORDER_PAID, TOLD_TO_FULFILL, TOLD_TO_SEND, TOLD_TO_DELIVER, ORDER_READY};
	EnumOrderEvent mEvent;
	Map<Item, Integer> mItems;
	Person mPerson;
	
Invoice
	Order mOrder;
	final int mTotal;
	int mPayment;
	boolean mPaid; //signed by the cashier


*Customer = MarketCustomerAgent
*Worker = MarketWorkerAgent
*Cashier = MarketCashierAgent
*Cook = MarketCookAgent
*DeliveryTruck = MarketDeliveryTruckAgent


